@model OfficeBooking.ViewModels.RoomUsageReportViewModel

@{
    ViewData["Title"] = "Room Usage Report";
}

<partial name="_PageHeader" model='("Usage Report", "Total time used per room in the selected month.")' />

<form method="get" class="row mt-3">
    <div class="col-md-2 mb-3">
        <label class="form-label">Year</label>
        <input class="form-control" name="year" value="@Model.Year" />
    </div>

    <div class="col-md-2 mb-3">
        <label class="form-label">Month</label>
        <input class="form-control" name="month" value="@Model.Month" />
    </div>

    <div class="col-md-3 mb-3 d-flex align-items-end">
        <button class="btn btn-primary" type="submit">Show</button>
    </div>
</form>

@if (Model.Rows.Count == 0)
{
    <div class="alert alert-info mt-3">
        No reservations in the selected month.
    </div>
}
else
{
    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th>Room</th>
                <th>Total minutes</th>
                <th>Total hours</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in Model.Rows)
            {
                var hours = Math.Round(row.TotalMinutes / 60.0, 2);

                <tr>
                    <td>@row.RoomName</td>
                    <td>@row.TotalMinutes</td>
                    <td>@hours</td>
                </tr>
            }
        </tbody>
    </table>
}
