@model OfficeBooking.ViewModels.RoomUsageReportViewModel

@{
    ViewData["Title"] = "Raport obłożenia sal";
}

<h2>Raport obłożenia sal</h2>

<form method="get" class="row mt-3">
    <div class="col-md-2 mb-3">
        <label class="form-label">Rok</label>
        <input class="form-control" name="year" value="@Model.Year" />
    </div>

    <div class="col-md-2 mb-3">
        <label class="form-label">Miesiąc</label>
        <input class="form-control" name="month" value="@Model.Month" />
    </div>

    <div class="col-md-3 mb-3 d-flex align-items-end">
        <button class="btn btn-primary" type="submit">Pokaż</button>
    </div>
</form>

@if (Model.Rows.Count == 0)
{
    <div class="alert alert-info mt-3">
        Brak rezerwacji w wybranym miesiącu.
    </div>
}
else
{
    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th>Sala</th>
                <th>Suma minut</th>
                <th>Suma godzin</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in Model.Rows)
            {
                var hours = Math.Round(row.TotalMinutes / 60.0, 2);

                <tr>
                    <td>@row.RoomName</td>
                    <td>@row.TotalMinutes</td>
                    <td>@hours</td>
                </tr>
            }
        </tbody>
    </table>
}
